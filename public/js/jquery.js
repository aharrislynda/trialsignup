// Ajax Queue Plugin
(function($){var ajax=$.ajax;var pendingRequests={};var synced=[];var syncedData=[];$.ajax=function(settings){settings=jQuery.extend(settings,jQuery.extend({},jQuery.ajaxSettings,settings));var port=settings.port;switch(settings.mode){case"abort":if(pendingRequests[port]){pendingRequests[port].abort()}return pendingRequests[port]=ajax.apply(this,arguments);case"queue":var _old=settings.complete;settings.complete=function(){if(_old)_old.apply(this,arguments);jQuery([ajax]).dequeue("ajax"+port)};jQuery([ajax]).queue("ajax"+port,function(){ajax(settings)});return;case"sync":var pos=synced.length;synced[pos]={error:settings.error,success:settings.success,complete:settings.complete,done:false};syncedData[pos]={error:[],success:[],complete:[]};settings.error=function(){syncedData[pos].error=arguments};settings.success=function(){syncedData[pos].success=arguments};settings.complete=function(){syncedData[pos].complete=arguments;synced[pos].done=true;if(pos==0||!synced[pos-1])for(var i=pos;i<synced.length&&synced[i].done;i++){if(synced[i].error)synced[i].error.apply(jQuery,syncedData[i].error);if(synced[i].success)synced[i].success.apply(jQuery,syncedData[i].success);if(synced[i].complete)synced[i].complete.apply(jQuery,syncedData[i].complete);synced[i]=null;syncedData[i]=null}}}return ajax.apply(this,arguments)}})(jQuery);
// jquery.bgiframe.min.js
/*(function($){$.fn.bgIframe=$.fn.bgiframe=function(s){if($.browser.msie&&/6.0/.test(navigator.userAgent)){s=$.extend({top:'auto',left:'auto',width:'auto',height:'auto',opacity:true,src:'javascript:false;'},s||{});var prop=function(n){return n&&n.constructor==Number?n+'px':n;},html='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+s.src+'"'+'style="display:block;position:absolute;z-index:-1;'+(s.opacity!==false?'filter:Alpha(Opacity=\'0\');':'')+'top:'+(s.top=='auto'?'expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+\'px\')':prop(s.top))+';'+'left:'+(s.left=='auto'?'expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+\'px\')':prop(s.left))+';'+'width:'+(s.width=='auto'?'expression(this.parentNode.offsetWidth+\'px\')':prop(s.width))+';'+'height:'+(s.height=='auto'?'expression(this.parentNode.offsetHeight+\'px\')':prop(s.height))+';'+'"/>';return this.each(function(){if($('> iframe.bgiframe',this).length==0)this.insertBefore(document.createElement(html),this.firstChild);});}return this;};})(jQuery);*/
// jQuery Autocomplete plugin 1.1
(function(a) { a.fn.extend({ autocomplete: function(b,c) { var d=typeof b=="string";c=a.extend({},a.Autocompleter.defaults,{ url: d?b:null,data: d?null:b,delay: d?a.Autocompleter.defaults.delay:10,max: c&&!c.scroll?10:150,last_q: "" },c);c.highlight=c.highlight||function(a) { return a };c.formatMatch=c.formatMatch||c.formatItem;return this.each(function() { new a.Autocompleter(this,c) }) },result: function(a) { return this.bind("result",a) },search: function(a) { return this.trigger("search",[a]) },flushCache: function() { return this.trigger("flushCache") },setOptions: function(a) { return this.trigger("setOptions",[a]) },unautocomplete: function() { return this.trigger("unautocomplete") } });a.Autocompleter=function(b,c) { function n() { p.removeClass(c.loadingClass) } function m(b) { var d=[];var e=b.split("\n");for(var f=0;f<e.length;f++) { var g=a.trim(e[f]);if(g) { g=g.split("|");d[d.length]={ data: g,value: g[0],result: c.formatResult&&c.formatResult(g,g[0])||g[0]} } } return d } function l(d,e,f) { if(!c.matchCase) d=d.toLowerCase();var h=s.load(d);if(h&&h.length) { e(d,h) } else if(typeof c.url=="string"&&c.url.length>0) { var i={ timestamp: +(new Date) };a.each(c.extraParams,function(a,b) { i[a]=typeof b=="function"?b():b });a.ajax({ mode: "abort",port: "autocomplete"+b.name,dataType: c.dataType,url: c.url,data: a.extend({ q: g(d),limit: c.max },i),success: function(a) { c.last_q=g(d);jQuery("#"+c.pleasewaitID).hide();var b=c.parse&&c.parse(a)||m(a);s.add(d,b);e(d,b) } }) } else { w.emptyList();f(d) } } function k(a,b) { if(b&&b.length&&t) { n();w.display(b,a);h(a,b[0].value);w.show() } else { j() } } function j() { var a=w.visible();w.hide();clearTimeout(q);n();if(c.mustMatch) { p.search(function(a) { if(!a) { if(c.multiple) { var b=f(p.val()).slice(0,-1);p.val(b.join(c.multipleSeparator)+(b.length?c.multipleSeparator:"")) } else { p.val("");p.trigger("result",null) } } }) } } function i() { clearTimeout(q);q=setTimeout(j,200) } function h(d,e) { if(c.autoFill&&g(p.val()).toLowerCase()==d.toLowerCase()&&u!=o.BACKSPACE) { p.val(p.val()+e.substring(g(r).length));a(b).selection(r.length,r.length+e.length) } } function g(d) { if(!c.multiple) return d;var e=f(d);if(e.length==1) return e[0];var g=a(b).selection().start;if(g==d.length) { e=f(d) } else { e=f(d.replace(d.substring(g),"")) } return e[e.length-1] } function f(b) { if(!b) return [""];if(!c.multiple) return [a.trim(b)];return a.map(b.split(c.multipleSeparator),function(c) { return a.trim(b).length?a.trim(c):null }) } function e(a,b) { if(u==o.DEL) { w.hide();return } var d=p.val();if(!b&&d==r) return;r=d;d=g(d);if(d.length>=c.minChars) { p.addClass(c.loadingClass);if(!c.matchCase) d=d.toLowerCase();l(d,k,j) } else { n();w.hide() } } function d() { var d=w.selected();if(!d) return false;var e=d.result;r=e;if(c.multiple) { var g=f(p.val());if(g.length>1) { var h=c.multipleSeparator.length;var i=a(b).selection().start;var k,l=0;a.each(g,function(a,b) { l+=b.length;if(i<=l) { k=a;return false } l+=h });g[k]=e;e=g.join(c.multipleSeparator) } e+=c.multipleSeparator } p.val(e);j();p.trigger("result",[d.data,d.value]);return true } var o={ UP: 38,DOWN: 40,DEL: 46,TAB: 9,RETURN: 13,ESC: 27,COMMA: 188,PAGEUP: 33,PAGEDOWN: 34,BACKSPACE: 8 };var p=a(b).attr("autocomplete","off").addClass(c.inputClass);var q;var r="";var s=a.Autocompleter.Cache(c);var t=0;var u;var v={ mouseDownOnSelect: false };var w=a.Autocompleter.Select(c,b,d,v);var x;a.browser.opera&&a(b.form).bind("submit.autocomplete",function() { if(x) { x=false;return false } });p.bind((a.browser.opera?"keypress":"keyup")+".autocomplete",function(a) { p.val().length>=c.minChars?jQuery("#"+c.pleasewaitID).show():jQuery("#"+c.pleasewaitID).hide();if(p.val()==c.last_q) jQuery("#"+c.pleasewaitID).hide() });p.bind((a.browser.opera?"keypress":"keydown")+".autocomplete",function(b) { t=1;switch(b.keyCode) { case o.UP: b.preventDefault();if(w.visible()) { w.prev() } else { e(0,true) } break;case o.DOWN: b.preventDefault();if(w.visible()) { w.next() } else { e(0,true) } break;case o.PAGEUP: b.preventDefault();if(w.visible()) { w.pageUp() } else { e(0,true) } break;case o.PAGEDOWN: b.preventDefault();if(w.visible()) { w.pageDown() } else { e(0,true) } break;case c.multiple&&a.trim(c.multipleSeparator)==","&&o.COMMA: case o.TAB: break;case o.ESC: w.hide();break;default: clearTimeout(q);q=setTimeout(e,c.delay);break } }).focus(function() { t++ }).blur(function() { t=0;if(!v.mouseDownOnSelect) { i() } }).click(function() { if(t++ >1&&!w.visible()) { e(0,true) } }).bind("search",function() { function b(a,b) { var d;if(b&&b.length) { for(var e=0;e<b.length;e++) { if(b[e].result.toLowerCase()==a.toLowerCase()) { d=b[e];break } } } if(typeof c=="function") c(d);else p.trigger("result",d&&[d.data,d.value]) } var c=arguments.length>1?arguments[1]:null;a.each(f(p.val()),function(a,c) { l(c,b,b) }) }).bind("flushCache",function() { s.flush() }).bind("setOptions",function() { a.extend(c,arguments[1]);if("data" in arguments[1]) s.populate() }).bind("unautocomplete",function() { w.unbind();p.unbind();a(b.form).unbind(".autocomplete") }) };a.Autocompleter.defaults={ inputClass: "ac_input",resultsClass: "ac_results",loadingClass: "ac_loading",minChars: 1,delay: 400,matchCase: false,matchSubset: true,matchContains: false,cacheLength: 10,max: 100,mustMatch: false,extraParams: {},selectFirst: true,formatItem: function(a) { return a[0] },formatMatch: null,autoFill: false,width: 0,multiple: false,multipleSeparator: ", ",highlight: function(a,b) { return a.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>") },scroll: true,scrollHeight: 180 };a.Autocompleter.Cache=function(b) { function f() { g={};h=0 } function e() { if(!b.data) return false;var c={},e=0;if(!b.url) b.cacheLength=1;c[""]=[];for(var f=0,g=b.data.length;f<g;f++) { var h=b.data[f];h=typeof h=="string"?[h]:h;var i=b.formatMatch(h,f+1,b.data.length);if(i===false) continue;var j=i.charAt(0).toLowerCase();if(!c[j]) c[j]=[];var k={ value: i,data: h,result: b.formatResult&&b.formatResult(h)||i };c[j].push(k);if(e++ <b.max) { c[""].push(k) } } a.each(c,function(a,c) { b.cacheLength++;d(a,c) }) } function d(a,c) { if(h>b.cacheLength) { f() } if(!g[a]) { h++ } g[a]=c } function c(a,c) { if(!b.matchCase) a=a.toLowerCase();var d=a.indexOf(c);if(b.matchContains=="word") { d=a.toLowerCase().search("\\b"+c.toLowerCase()) } if(d== -1) return false;return d==0||b.matchContains } var g={};var h=0;setTimeout(e,25);return { flush: f,add: d,populate: e,load: function(d) { if(!b.cacheLength||!h) return null;if(!b.url&&b.matchContains) { var e=[];for(var f in g) { if(f.length>0) { var i=g[f];a.each(i,function(a,b) { if(c(b.value,d)) { e.push(b) } }) } } return e } else if(g[d]) { return g[d] } else if(b.matchSubset) { for(var j=d.length-1;j>=b.minChars;j--) { var i=g[d.substr(0,j)];if(i) { var e=[];a.each(i,function(a,b) { if(c(b.value,d)) { e[e.length]=b } });return e } } } return null } } };a.Autocompleter.Select=function(b,c,d,e) { function k() { s.empty();var c=j(o.length);for(var d=0;d<c;d++) { if(!o[d]) continue;var e=b.formatItem(o[d].data,d+1,c,o[d].value,p);if(e===false) continue;var f=a("<li/>").html(b.highlight(e,p)).addClass(d%2==0?"ac_even":"ac_odd").appendTo(s)[0];a.data(f,"ac_data",o[d]) } m=s.find("li");if(b.selectFirst) { m.slice(0,1).addClass(l.ACTIVE);n=0 } if(a.fn.bgiframe) s.bgiframe() } function j(a) { return b.max&&b.max<a?b.max:a } function i(a) { n+=a;if(n<0) { n=m.size()-1 } else if(n>=m.size()) { n=0 } } function h(a) { m.slice(n,n+1).removeClass(l.ACTIVE);i(a);var c=m.slice(n,n+1).addClass(l.ACTIVE);if(b.scroll) { var d=0;m.slice(0,n).each(function() { d+=this.offsetHeight });if(d+c[0].offsetHeight-s.scrollTop()>s[0].clientHeight) { s.scrollTop(d+c[0].offsetHeight-s.innerHeight()) } else if(d<s.scrollTop()) { s.scrollTop(d) } } } function g(a) { var b=a.target;while(b&&b.tagName!="LI") b=b.parentNode;if(!b) return [];return b } function f() { if(!q) return;r=a("<div/>").hide().addClass(b.resultsClass).css("position","absolute").appendTo(document.body);s=a("<ul/>").appendTo(r).mouseover(function(b) { if(g(b).nodeName&&g(b).nodeName.toUpperCase()=="LI") { n=a("li",s).removeClass(l.ACTIVE).index(g(b));a(g(b)).addClass(l.ACTIVE) } }).click(function(b) { a(g(b)).addClass(l.ACTIVE);d();c.focus();return false }).mousedown(function() { e.mouseDownOnSelect=true }).mouseup(function() { e.mouseDownOnSelect=false });if(b.width>0) r.css("width",b.width);q=false } var l={ ACTIVE: "ac_over" };var m,n= -1,o,p="",q=true,r,s;return { display: function(a,b) { f();o=a;p=b;k() },next: function() { h(1) },prev: function() { h(-1) },pageUp: function() { if(n!=0&&n-8<0) { h(-n) } else { h(-8) } },pageDown: function() { if(n!=m.size()-1&&n+8>m.size()) { h(m.size()-1-n) } else { h(8) } },hide: function() { jQuery(".waitwheel").hide();r&&r.hide();m&&m.removeClass(l.ACTIVE);n= -1 },visible: function() { return r&&r.is(":visible") },current: function() { return this.visible()&&(m.filter("."+l.ACTIVE)[0]||b.selectFirst&&m[0]) },show: function() { var d=a(c).offset();r.css({ width: typeof b.width=="string"||b.width>0?b.width:a(c).width(),top: d.top+c.offsetHeight,left: d.left }).show();if(b.scroll) { s.scrollTop(0);s.css({ maxHeight: b.scrollHeight,overflow: "auto" });if(a.browser.msie&&typeof document.body.style.maxHeight==="undefined") { var e=0;m.each(function() { e+=this.offsetHeight });var f=e>b.scrollHeight;s.css("height",f?b.scrollHeight:e);if(!f) { m.width(s.width()-parseInt(m.css("padding-left"))-parseInt(m.css("padding-right"))) } } } },selected: function() { var b=m&&m.filter("."+l.ACTIVE).removeClass(l.ACTIVE);return b&&b.length&&a.data(b[0],"ac_data") },emptyList: function() { s&&s.empty() },unbind: function() { r&&r.remove() } } };a.fn.selection=function(a,b) { if(a!==undefined) { return this.each(function() { if(this.createTextRange) { var c=this.createTextRange();if(b===undefined||a==b) { c.move("character",a);c.select() } else { c.collapse(true);c.moveStart("character",a);c.moveEnd("character",b);c.select() } } else if(this.setSelectionRange) { this.setSelectionRange(a,b) } else if(this.selectionStart) { this.selectionStart=a;this.selectionEnd=b } }) } var c=this[0];if(c.createTextRange) { var d=document.selection.createRange(),e=c.value,f="<->",g=d.text.length;d.text=f;var h=c.value.indexOf(f);c.value=e;this.selection(h,h+g);return { start: h,end: h+g} } else if(c.selectionStart!==undefined) { return { start: c.selectionStart,end: c.selectionEnd} } } })(jQuery)